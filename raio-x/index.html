<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Raio-X</title>
    <!-- ======= Styles ====== -->
    <link rel="stylesheet" href="../assets/css/style.css">
</head>
<body>
    
    <div class="container">
        <div class="navigation">
            <ul>
                <li>
                    <a href="https://auditoria.ufam.edu.br/" target="_blank">
                        <span class="icon">
                            <ion-icon name="logo-apple-ar"></ion-icon>
                        </span>
                        <img src="../assets/imgs/audin_logo.jpeg" alt="Logo AUDIN" class="nav-logo"/>
                    </a>
                </li>

                <li>
                    <a href="/">
                        <span class="icon">
                            <ion-icon name="home-outline"></ion-icon>
                        </span>
                        <span class="title">Dashboard</span>
                    </a>
                </li>

                <li>
                    <a href="/monitor/index.html">
                        <span class="icon">
                            <ion-icon name="radio-outline"></ion-icon>
                        </span>
                        <span class="title">Monitoramento</span>
                    </a>
                </li>

                <li>
                    <a href="/panel/index.html">
                        <span class="icon">
                            <ion-icon name="list-outline"></ion-icon>
                        </span>
                        <span class="title">Recomendações detalhadas</span>
                    </a>
                </li>
                <li>
                    <a href="/beneficios/index.html">
                        <span class="icon">
                            <ion-icon name="medal-outline"></ion-icon>
                        </span>
                        <span class="title">Benefícios</span>
                    </a>
                </li>
                <li>
                    <a href="/raio-x/index.html">
                        <span class="icon">
                            <ion-icon name="search-outline"></ion-icon>
                        </span>
                        <span class="title">Raio-X Audin</span>
                    </a>
                </li>

                <li>
                    <a href="/report/index.html">
                        <span class="icon">
                            <ion-icon name="file-tray-stacked-outline"></ion-icon>
                        </span>
                        <span class="title">Relatórios</span>
                    </a>
                </li>

                <li>
                    <a href="https://auditoria.ufam.edu.br/">
                        <span class="icon">
                            <ion-icon name="log-out-outline"></ion-icon>
                        </span>
                        <span class="title">Site da Auditoria</span>
                    </a>
                </li>
            </ul>
        </div>

        <!-- ========================= Main ==================== -->
        <div class="main">
            <div class="topbar">
                <div class="toggle">
                    <ion-icon name="menu-outline"></ion-icon>
                </div>
            </div>

            <!-- Cards de Estatísticas -->
            <div class="stats-cards-grid cols-4">
                <!-- Card Total Unidades Auditadas -->
                <div class="stat-card large" style="background: linear-gradient(135deg, #1c8b3d 0%, #166b2f 100%); box-shadow: 0 8px 25px rgba(28, 139, 61, 0.3);">
                    <ion-icon name="business-outline" style="font-size: 2.5rem; opacity: 0.8;"></ion-icon>
                    <div class="stat-value" id="raiox-unidades">--</div>
                    <div class="stat-label">Unidades Auditadas</div>
                    <div class="stat-sublabel">Desde 2015</div>
                </div>

                <!-- Card Anos de Atuação -->
                <div class="stat-card large" style="background: linear-gradient(135deg, #2196F3 0%, #1565C0 100%); box-shadow: 0 8px 25px rgba(33, 150, 243, 0.3);">
                    <ion-icon name="calendar-outline" style="font-size: 2.5rem; opacity: 0.8;"></ion-icon>
                    <div class="stat-value" id="raiox-anos">--</div>
                    <div class="stat-label">Anos de Atuação</div>
                    <div class="stat-sublabel" id="raiox-periodo">--</div>
                </div>

                <!-- Card Média por Ano -->
                <div class="stat-card large" style="background: linear-gradient(135deg, #FF9800 0%, #E65100 100%); box-shadow: 0 8px 25px rgba(255, 152, 0, 0.3);">
                    <ion-icon name="analytics-outline" style="font-size: 2.5rem; opacity: 0.8;"></ion-icon>
                    <div class="stat-value" id="raiox-media">--</div>
                    <div class="stat-label">Média por Ano</div>
                    <div class="stat-sublabel">Recomendações/ano</div>
                </div>

                <!-- Card Ano com Mais Recomendações -->
                <div class="stat-card large" style="background: linear-gradient(135deg, #9C27B0 0%, #6A1B9A 100%); box-shadow: 0 8px 25px rgba(156, 39, 176, 0.3);">
                    <ion-icon name="star-outline" style="font-size: 2.5rem; opacity: 0.8;"></ion-icon>
                    <div class="stat-value" id="raiox-ano-pico">--</div>
                    <div class="stat-label">Ano de Pico</div>
                    <div class="stat-sublabel" id="raiox-rec-pico">--</div>
                </div>
            </div>

            <!-- Descrição do Raio-X -->
            <div style="padding: 0 20px;">
                <div style="background: #f8f9fa; border-radius: 15px; padding: 20px; margin-bottom: 20px; border-left: 4px solid #1c8b3d;">
                    <h4 style="color: #1c8b3d; margin: 0 0 15px 0;">
                        <ion-icon name="search-outline" style="vertical-align: middle; margin-right: 8px;"></ion-icon>
                        Raio-X da Auditoria
                    </h4>
                    <div style="font-size: 0.9rem; color: #555; line-height: 1.6;">
                        <p style="margin: 0;">O Raio-X apresenta uma visão analítica da atuação da Auditoria Interna ao longo dos anos, permitindo identificar padrões de distribuição de recomendações por unidade e período. Esta análise auxilia no planejamento estratégico das ações de auditoria e no acompanhamento da evolução das unidades auditadas.</p>
                    </div>
                </div>
            </div>

            <!-- Heatmap Unidade x Ano -->
            <div style="padding: 0 20px;">
                <div style="background: white; border-radius: 20px; padding: 20px; box-shadow: 0 7px 25px rgba(0,0,0,0.08); margin-bottom: 20px;">
                    <h3 style="color: #1c8b3d; margin: 0 0 15px 0; font-size: 1.1rem; padding-left: 10px;">
                        <ion-icon name="grid-outline" style="vertical-align: middle; margin-right: 8px;"></ion-icon>
                        Matriz de Recomendações: Unidade x Ano
                    </h3>
                    <iframe src="/charts/heatmap_raiox.html" style="width:100%; height:820px; border:none;"></iframe>
                </div>
            </div>

            <!-- Top Unidades por Quantidade -->
            <div style="padding: 0 20px;">
                <div style="background: white; border-radius: 20px; padding: 25px; box-shadow: 0 7px 25px rgba(0,0,0,0.08); margin-bottom: 20px;">
                    <h3 style="color: #1c8b3d; margin: 0 0 20px 0; font-size: 1.2rem;">
                        <ion-icon name="bar-chart-outline" style="vertical-align: middle; margin-right: 8px;"></ion-icon>
                        Unidades com Maior Concentração de Recomendações
                    </h3>
                    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px;">
                        <div style="background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%); border-radius: 12px; padding: 20px; text-align: center;">
                            <div style="font-size: 0.9rem; color: #666; margin-bottom: 5px;" id="top-rec-1-nome">--</div>
                            <div style="font-size: 2rem; font-weight: 700; color: #1c8b3d;" id="top-rec-1-total">--</div>
                            <div style="font-size: 0.8rem; color: #888;" id="top-rec-1-perc">--</div>
                        </div>
                        <div style="background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%); border-radius: 12px; padding: 20px; text-align: center;">
                            <div style="font-size: 0.9rem; color: #666; margin-bottom: 5px;" id="top-rec-2-nome">--</div>
                            <div style="font-size: 2rem; font-weight: 700; color: #1565C0;" id="top-rec-2-total">--</div>
                            <div style="font-size: 0.8rem; color: #888;" id="top-rec-2-perc">--</div>
                        </div>
                        <div style="background: linear-gradient(135deg, #fff3e0 0%, #ffe0b2 100%); border-radius: 12px; padding: 20px; text-align: center;">
                            <div style="font-size: 0.9rem; color: #666; margin-bottom: 5px;" id="top-rec-3-nome">--</div>
                            <div style="font-size: 2rem; font-weight: 700; color: #E65100;" id="top-rec-3-total">--</div>
                            <div style="font-size: 0.8rem; color: #888;" id="top-rec-3-perc">--</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Gráfico de Barras por Unidade -->
            <div style="padding: 0 20px;">
                <div style="background: white; border-radius: 20px; padding: 20px; box-shadow: 0 7px 25px rgba(0,0,0,0.08); margin-bottom: 20px;">
                    <iframe src="/charts/bar_unidades.html" style="width:100%; height:820px; border:none;"></iframe>
                </div>
            </div>

        </div>
    </div>
    
    <!-- =========== Scripts =========  -->
    <script src="../assets/js/main.js"></script>
    <script src="../assets/js/data-loader.js"></script>

    <!-- ====== ionicons ======= -->
    <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
</body>
</html>